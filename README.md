# Calling email base

## Name of the file with mailing accounts

Файл с рассылочными аккаунтами должен быть рядом с рассыльщиком
```sh
echo "login,password" > account.csv
```
При желании можно переименовать
```sh
ACCOUNT = 'YOUR_FILE_NAME'
```

## Name of the mailing list

Файл с базой для рассылки должен называться base.csv, при желаении можно переименовать
```sh
BASE_FILE = 'YOUR_BASE'
```
В файле с базой должны быть колонки:
<ul>
    <li>Email</li>
    <li>Name</li>
    <li>Domain</li>
</ul>

## Limit letter

Лимит на отправку с одной почты устанавливается в переменной LIMIT_LETTER
```sh
LIMIT_LETTER = 100
```
В данном примере рассылочные акки будут слать по 100 писем

## Template

Письмо и тема письма редактируются в templates/letter.py 

## Buffer

В рассыльщике предусмотрен своеобразный буфер, который не допускает повторную отправку писем на адреса, куда уже написали. При аварийном завершении работы рассыльщика позволяется продолжить рассылку с того же места. Буфер создается автоматически при запуске рассыльщика, действия никакие дополнительные не требуются

## DB SQLite
Используется BD SQLite, поставляется в стандартной библиотеке python3, дополнительно ничего не нужно ставить.
По умолчанию база будет называться calling.db, при желании можно поменять.
Все основные операции с БД ведутся в utils/recording.py

## Web interface

Для мониторинга отправленных писем в реальном времени можно использовать web.py.Это приложение на Flask. Для его работы нужно установить flask в виртуальное окружение, активировать оркужение и запустить приложение:
```sh
python3 -m venv venv

source venv/bin/activate

python3 web.py
``` 
Приложение будет доступно на 5000 порту: http://127.0.0.1:5000/
